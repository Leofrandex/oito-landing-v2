.howWeWork {
    padding: 8rem 4rem;
    position: relative;
    z-index: 10;
}

.howWeWork::before {
    content: "";
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(244, 251, 249, 0.65);
    border-bottom-left-radius: 60px;
    border-bottom-right-radius: 60px;
    z-index: -1;
    mask-image: linear-gradient(to bottom, black 85%, transparent 100%);
    -webkit-mask-image: linear-gradient(to bottom, black 85%, transparent 100%);
}

.container {
    max-width: 1200px;
    margin: 0 auto;
}

.sectionTitle {
    font-family: var(--font-dm-sans);
    font-size: var(--text-h2);
    color: var(--color-hero-bg);
    text-align: center;
    margin-bottom: 6rem;
    font-weight: 700;
    letter-spacing: -0.02em;
}

.brandHighlight {
    font-family: var(--font-dongle);
    color: var(--color-accent);
    font-size: 4rem;
    font-weight: 400;
    line-height: 0.5;
    display: inline-block;
    position: relative;
    top: 2px;
}

.stepsContainer {
    display: flex;
    flex-direction: column;
    border-top: 1px solid rgba(0, 0, 0, 0.1);
}

.stepRow {
    position: relative;
    border-bottom: 1px solid rgba(0, 0, 0, 0.1);
    min-height: 200px;
    display: grid;
    grid-template-columns: 1fr auto 1fr;
    align-items: center;
    gap: 4rem;
    padding: 2rem 0;
    transition: all 0.3s ease;
    cursor: pointer;
}

/* Dim non-hovered state and Highlight borders on hover */
.stepRow {
    color: var(--color-text-charcoal);
    opacity: 0.5;
    transition: opacity 0.3s ease, border-color 0.3s ease;
}

.stepRow:hover {
    border-bottom-color: var(--color-accent);
    /* Highlight bottom border */
    /* If we want top border for the first one or changing previous sibling's bottom border is tricky in pure CSS without :has() or JS. 
       But simpler solution: use negative margin or :has() if supported? 
       Actually, `border-top` on stepsContainer handles the top line. But changing it on hover of first child? 
       Let's stick to bottom border for rows. The top border of the whole container is static. 
       Wait, "resalta las lineas de la respectiva barra". Each bar has a line above and below?
       Ideally, we'd add border-top to each row and collapse them. 
       Let's try border-top and border-bottom for hover state specifically on the row using pseudo-elements or box-shadow?
       Box-shadow inset is easy: `box-shadow: inset 0 1px 0 var(--color-accent), inset 0 -1px 0 var(--color-accent);`
    */
    box-shadow: inset 0 1px 0 var(--color-accent), inset 0 -1px 0 var(--color-accent);
    /* Remove default border so it doesn't double up? No, default border is outside or inside? Border takes space unless box-sizing border-box.
       If we utilize box-shadow, the original border remains. The shadow draws over or next to it.
       Let's use borderColor transparent + box-shadow?
       Or just `border-color: var(--color-accent)`. That only does bottom.
       Let's try `border-top: 1px solid transparent; margin-top: -1px;` trick? 
       Simpler: box-shadow.
    */
}

/* When the container is hovered, dim everything */
.stepsContainer:hover .stepRow {
    opacity: 0.3;
}

/* But keep the hovered one fully opaque and highlighted */
.stepsContainer:hover .stepRow:hover {
    opacity: 1;
    border-bottom-color: transparent;
    /* Hide original so shadow takes over? Or let it blend. */
}

.centerCol {
    display: flex;
    justify-content: center;
    align-items: center;
    padding: 0 2rem;
    min-width: 300px;
    /* Ensure title has space */
    text-align: center;
}

.stepTitle {
    font-family: var(--font-dm-sans);
    font-size: var(--text-subtitle);
    color: var(--color-accent);
    font-weight: 700;
    margin: 0;
    transition: color 0.3s ease;
    white-space: nowrap;
}

.leftCol,
.rightCol {
    display: flex;
    align-items: center;
    /* Removed opacity: 0 to fix visibility issue. Framer Motion handles it. */
}

.leftCol {
    justify-content: flex-end;
    text-align: right;
}

.rightCol {
    justify-content: flex-start;
    text-align: left;
}

.description {
    font-family: var(--font-dm-sans);
    font-size: var(--text-body);
    color: var(--color-text-charcoal);
    line-height: 1.6;
    width: 350px;
    /* Fixed width to prevent reordering/reflow during animation */
    /* Ensure it doesn't overflow if screen is small? Add max-width for responsiveness below */
    max-width: 100%;
}

@media (max-width: 1024px) {
    .howWeWork {
        /* Reset any container styles if necessary */
    }

    .howWeWork::before {
        border-bottom-left-radius: 40px;
        border-bottom-right-radius: 40px;
    }

    .stepRow {
        grid-template-columns: 1fr;
        gap: 1.5rem;
        text-align: center;
        padding: 3rem 1rem;
    }

    .centerCol {
        order: -1;
        /* Title first */
        min-width: auto;
    }

    .leftCol,
    .rightCol {
        display: block;
        justify-content: center;
        text-align: center;
    }

    .leftCol .description,
    .rightCol .description {
        margin: 0 auto;
        width: auto;
        /* Reset fixed width on mobile */
        max-width: 350px;
    }
}